<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ–°å¢æ´»å‹• | å…§æ¹–é«˜ä¸­è»æ­¦ç¤¾</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

  <!-- ğŸ”° å°è¦½åˆ— -->
  <nav class="bg-gray-900 text-white px-6 py-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">æ–°å¢æ´»å‹•</h1>
    <div>
      <a href="https://pyps0990-alt.github.io/nhmc.github.io/" class="hover:underline">å›é¦–é </a>
    </div>
  </nav>

  <!-- ğŸ‘¤ å¹¹éƒ¨é©—è­‰è¡¨å–® -->
  <section class="max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow">
    <h2 class="text-xl font-semibold mb-4">ğŸ‘¤ å¹¹éƒ¨èº«ä»½é©—è­‰</h2>
    <form id="verifyForm" class="space-y-4">
      <input type="text" id="class" placeholder="ç­ç´šï¼ˆä¾‹å¦‚305ï¼‰" required class="w-full px-3 py-2 border rounded" />
      <input type="text" id="number" placeholder="åº§è™Ÿï¼ˆä¾‹å¦‚12ï¼‰" required class="w-full px-3 py-2 border rounded" />
      <input type="text" id="name" placeholder="å§“å" required class="w-full px-3 py-2 border rounded" />
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">é©—è­‰èº«ä»½</button>
    </form>
    <p id="verifyStatus" class="text-red-600 mt-4 hidden">âŒ é©—è­‰å¤±æ•—ï¼Œè«‹ç¢ºèªè³‡æ–™æ˜¯å¦æ­£ç¢º</p>
  </section>

  <!-- ğŸ“ æ´»å‹•è¡¨å–®ï¼ˆé è¨­éš±è—ï¼‰ -->
  <section id="eventSection" class="max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow hidden">
    <h2 class="text-xl font-semibold mb-4">ğŸ“Œ æ–°å¢æ´»å‹•</h2>
    <form id="eventForm" class="space-y-4">
      <input type="text" id="title" placeholder="æ´»å‹•åç¨±" required class="w-full px-3 py-2 border rounded" />
      <input type="datetime-local" id="start" required class="w-full px-3 py-2 border rounded" />
      <input type="datetime-local" id="end" required class="w-full px-3 py-2 border rounded" />
      <input type="text" id="location" placeholder="åœ°é»" class="w-full px-3 py-2 border rounded" />
      <textarea id="description" placeholder="å‚™è¨»" class="w-full px-3 py-2 border rounded"></textarea>
      <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">å„²å­˜æ´»å‹•</button>
    </form>
    <p id="saveStatus" class="text-green-600 mt-4 hidden">âœ… æ´»å‹•å·²å„²å­˜ï¼ˆæš«å­˜åœ¨æœ¬æ©Ÿï¼‰</p>
  </section>

  <!-- ğŸ”§ JavaScript -->
  <script>
    // å¹¹éƒ¨åå–®ï¼ˆå¯è‡ªè¡Œæ“´å……ï¼‰
    const staffList = [
      { class: "305", number: "12", name: "ç‹å¥•å˜‰" },
      { class: "304", number: "7", name: "æ—åŒå­¸" },
      { class: "303", number: "5", name: "é™³å¹¹éƒ¨" }
    ];

    // å¹¹éƒ¨é©—è­‰
    document.getElementById("verifyForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const classInput = document.getElementById("class").value.trim();
      const numberInput = document.getElementById("number").value.trim();
      const nameInput = document.getElementById("name").value.trim();

      const matched = staffList.some(
        (staff) =>
          staff.class === classInput &&
          staff.number === numberInput &&
          staff.name === nameInput
      );

      if (matched) {
        document.getElementById("verifyForm").style.display = "none";
        document.getElementById("verifyStatus").classList.add("hidden");
        document.getElementById("eventSection").classList.remove("hidden");
      } else {
        document.getElementById("verifyStatus").classList.remove("hidden");
      }
    });

    // æ´»å‹•å„²å­˜ï¼ˆLocalStorageï¼‰
    document.getElementById("eventForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const activity = {
        title: document.getElementById("title").value,
        start: document.getElementById("start").value,
        end: document.getElementById("end").value,
        location: document.getElementById("location").value,
        description: document.getElementById("description").value,
        savedAt: new Date().toISOString()
      };

      const existing = JSON.parse(localStorage.getItem("nhmc_events") || "[]");
      existing.push(activity);
      localStorage.setItem("nhmc_events", JSON.stringify(existing));

      document.getElementById("saveStatus").classList.remove("hidden");
      document.getElementById("eventForm").reset();
    });
  </script>

  <!-- ğŸ“Œ é å°¾ -->
  <footer class="text-center text-sm text-gray-500 mt-10 mb-4">
    Â© 2025 å…§æ¹–é«˜ä¸­è»æ­¦ç¤¾ | è¨­è¨ˆèˆ‡ç¶­è­·ï¼šè»æ­¦ç¤¾å‰ç«¯å°çµ„
  </footer>
</body>
</html>
